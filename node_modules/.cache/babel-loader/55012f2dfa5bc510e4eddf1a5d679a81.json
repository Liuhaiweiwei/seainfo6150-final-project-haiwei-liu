{"ast":null,"code":"var _jsxFileName = \"/Users/hathaway/Desktop/finalproject/src/Follow/Follow.jsx\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { SchemaModel, StringType, NumberType } from \"schema-typed\";\nimport { FormItem, Form, FormItemContext } from \"react-form-next\";\nimport \"react-form-next/index.css\";\n\nclass Follow extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = (name, value) => {\n      // age 实时检验\n      if (name === \"age\") {\n        const {\n          formErr\n        } = this.state; // checkForField 单个检验\n\n        formErr[name] = this.formModel.checkForField(name, value);\n        this.setState({\n          formErr: Object.assign({}, formErr)\n        });\n      }\n\n      this.setState({\n        values: {\n          [name]: value\n        }\n      });\n    };\n\n    this.checkForm = () => {\n      // check 全部校验\n      this.setState({\n        formErr: this.formModel.check(this.state.values)\n      });\n    };\n\n    this.state = {\n      values: {\n        username: \"\",\n        email: \"\",\n        age: \"N/A\"\n      },\n      formErr: {} // 校验信息字段\n\n    }; // 创建检验schema\n\n    this.formModel = SchemaModel({\n      username: StringType().isRequired(\"用户名不能为空\"),\n      email: StringType().isRequired(\"邮箱不能为空\").isEmail(\"请输入正确的邮箱\"),\n      age: NumberType(\"年龄应该是一个数字\").range(18, 30, \"年应该在 18 到 30 岁\").isRequired(\"年龄不能为空\")\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"\\u8868\\u5355\"), /*#__PURE__*/React.createElement(Form, {\n      values: this.state.values,\n      checkMsg: this.state.formErr,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormItemContext, {\n      label: \"\\u7528\\u6237\\u540D\",\n      type: \"text\",\n      name: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(FormItemContext, {\n      label: \"\\u90AE\\u7BB1\",\n      type: \"email\",\n      name: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(FormItemContext, {\n      label: \"\\u5E74\\u9F84\",\n      type: \"number\",\n      name: \"age\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(FormItem, {\n      label: \"\",\n      name: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"s-btn s-btn--primary s-btn--m\",\n      onClick: this.checkForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, \"\\u63D0\\u4EA4\"))));\n  }\n\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render( /*#__PURE__*/React.createElement(Follow, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 17\n  }\n}), rootElement);","map":{"version":3,"sources":["/Users/hathaway/Desktop/finalproject/src/Follow/Follow.jsx"],"names":["React","Component","ReactDOM","SchemaModel","StringType","NumberType","FormItem","Form","FormItemContext","Follow","constructor","props","handleChange","name","value","formErr","state","formModel","checkForField","setState","Object","assign","values","checkForm","check","username","email","age","isRequired","isEmail","range","render","rootElement","document","getElementById"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { SchemaModel, StringType, NumberType } from \"schema-typed\";\nimport { FormItem, Form, FormItemContext } from \"react-form-next\";\nimport \"react-form-next/index.css\";\n\nclass Follow extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            values: {\n                username: \"\",\n                email: \"\",\n                age: \"N/A\"\n            },\n            formErr: {} // 校验信息字段\n        };\n\n        // 创建检验schema\n        this.formModel = SchemaModel({\n            username: StringType().isRequired(\"用户名不能为空\"),\n            email: StringType()\n                .isRequired(\"邮箱不能为空\")\n                .isEmail(\"请输入正确的邮箱\"),\n            age: NumberType(\"年龄应该是一个数字\")\n                .range(18, 30, \"年应该在 18 到 30 岁\")\n                .isRequired(\"年龄不能为空\")\n        });\n    }\n    handleChange = (name, value) => {\n        // age 实时检验\n        if (name === \"age\") {\n            const { formErr } = this.state;\n            // checkForField 单个检验\n            formErr[name] = this.formModel.checkForField(name, value);\n            this.setState({\n                formErr: Object.assign({}, formErr)\n            });\n        }\n\n        this.setState({\n            values: {\n                [name]: value\n            }\n        });\n    };\n\n    checkForm = () => {\n        // check 全部校验\n        this.setState({\n            formErr: this.formModel.check(this.state.values)\n        });\n    };\n    render() {\n        return (\n            <div className=\"App\">\n                <h2>表单</h2>\n                <Form\n                    values={this.state.values}\n                    checkMsg={this.state.formErr}\n                    onChange={this.handleChange}\n                >\n                    <FormItemContext label=\"用户名\" type=\"text\" name=\"username\" />\n                    <FormItemContext label=\"邮箱\" type=\"email\" name=\"email\" />\n                    <FormItemContext label=\"年龄\" type=\"number\" name=\"age\" />\n                    <FormItem label=\"\" name=\"submit\">\n            <span\n                className=\"s-btn s-btn--primary s-btn--m\"\n                onClick={this.checkForm}\n            >\n              提交\n            </span>\n                    </FormItem>\n                </Form>\n            </div>\n        );\n    }\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<Follow />, rootElement);"]},"metadata":{},"sourceType":"module"}